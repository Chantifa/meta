{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chant\\\\StudioProjects\\\\coronattack\\\\app\\\\client\\\\src\\\\pages\\\\Register.js\",\n    _s = $RefreshSig$();\n\nimport { Link } from \"react-router-dom\";\nimport '../styles/LogRegStyle.css';\nimport smileygmtrans from '../images/smileygmtrans.png';\nimport axios from 'axios';\nimport { React, useCallback, useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Register = () => {\n  _s();\n\n  const [nickname, setnickname] = useState(\"\");\n  const [email, setemail] = useState(\"\");\n  const [password, setpassword] = useState(\"\");\n  const [password2, setpassword2] = useState(\"\");\n  const [accountExists, setAccountExists] = useState(false);\n  const getAllValues = useCallback(async () => {\n    // we will use nginx to redirect it to the proper URL\n    const userData = await axios.get(\"/api/users/register\");\n    setnickname(userData.data.rows.map(row => row.nickname));\n    setemail(userData.rows.map(row => row.email));\n    setpassword(userData.rows.map(row => row.password));\n    setpassword2(userData.rows.map(row => row.password2));\n    setAccountExists(userData.rows.map(row => row.accountExists));\n  }, []);\n  const saveUser = useCallback(async e => {\n    e.preventDefault();\n    await axios.post(\"/api/users/register\", {\n      nickname,\n      email,\n      password\n    });\n    setnickname(\"\");\n    setemail(\"\");\n    setpassword(\"\");\n    getAllValues();\n  }, [nickname, email, password, getAllValues]);\n  useEffect(() => {\n    getAllValues(); // eslint-disable-next-line\n  }, []);\n  const data = {\n    nickname,\n    email,\n    password,\n    password2\n  };\n  console.log(data);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"titleLogin\",\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"imgReg\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: smileygmtrans,\n        alt: \"regImg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }, this), accountExists && /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        color: \"red\"\n      },\n      children: \"This E-Mail adress is already registered\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 35\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: saveUser,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"name\",\n          name: \"name\",\n          placeholder: \"Name\",\n          value: nickname,\n          onChange: e => setnickname(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          name: \"email\",\n          placeholder: \"Email\",\n          value: email,\n          onChange: e => setemail(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          name: \"password\",\n          placeholder: \"Password\",\n          value: password,\n          onChange: e => setpassword(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password2\",\n          name: \"password2\",\n          placeholder: \"Confirm Password\",\n          value: password2,\n          onChange: e => setpassword2(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Register\",\n          className: \"buttonNext\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        className: \"registerBtn\",\n        children: \"Already registered? Login here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 13\n  }, this);\n};\n\n_s(Register, \"b1c/r33GLlGro5pNhE2AG9XIT0c=\");\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["C:/Users/chant/StudioProjects/coronattack/app/client/src/pages/Register.js"],"names":["Link","smileygmtrans","axios","React","useCallback","useState","useEffect","Register","nickname","setnickname","email","setemail","password","setpassword","password2","setpassword2","accountExists","setAccountExists","getAllValues","userData","get","data","rows","map","row","saveUser","e","preventDefault","post","console","log","color","target","value"],"mappings":"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","sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport '../styles/LogRegStyle.css';\r\nimport smileygmtrans from '../images/smileygmtrans.png';\r\nimport axios from 'axios';\r\nimport { React, useCallback, useState, useEffect } from \"react\";\r\n\r\n\r\n\r\nconst Register = () => {\r\n\r\n        const [nickname, setnickname] = useState(\"\");\r\n        const [email, setemail] = useState(\"\");\r\n        const [password, setpassword] = useState(\"\");\r\n        const [password2, setpassword2] = useState(\"\");\r\n        const [accountExists, setAccountExists] = useState(false);\r\n\r\n        const getAllValues = useCallback(async () => {\r\n            // we will use nginx to redirect it to the proper URL\r\n            const userData = await axios.get(\"/api/users/register\");\r\n            setnickname(userData.data.rows.map(row => row.nickname));\r\n            setemail(userData.rows.map(row => row.email));\r\n            setpassword(userData.rows.map(row => row.password));\r\n            setpassword2(userData.rows.map(row => row.password2));\r\n            setAccountExists(userData.rows.map(row => row.accountExists));\r\n        }, []);\r\n\r\n        const saveUser = useCallback(\r\n            async e => {\r\n                e.preventDefault();\r\n                await axios.post(\"/api/users/register\", {\r\n                    nickname,\r\n                    email,\r\n                    password\r\n                });\r\n\r\n                setnickname(\"\");\r\n                setemail(\"\");\r\n                setpassword(\"\");\r\n                getAllValues();\r\n            },\r\n\r\n\r\n\r\n            [\r\n                nickname,\r\n                email,\r\n                password,\r\n                getAllValues\r\n            ]\r\n        );\r\n\r\n        useEffect(() => {\r\n            getAllValues();\r\n            // eslint-disable-next-line\r\n        }, []);\r\n\r\n        const data = { nickname, email, password, password2 };\r\n        console.log(data);\r\n\r\n        return (\r\n            <div>\r\n                <h1 className=\"titleLogin\">Register</h1>\r\n                <div className=\"imgReg\">\r\n                    <img src={smileygmtrans} alt=\"regImg\" />\r\n                </div>\r\n                {accountExists && <h1 style={{ color: \"red\" }}>This E-Mail adress is already registered</h1>}\r\n                <form onSubmit={saveUser}>\r\n                    <div>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"name\"\r\n                            name=\"name\"\r\n                            placeholder=\"Name\"\r\n                            value={nickname}\r\n                            onChange={(e) => setnickname(e.target.value)}\r\n                            required />\r\n                    </div>\r\n                    <div>\r\n                        <input\r\n                            type=\"email\"\r\n                            id=\"email\"\r\n                            name=\"email\"\r\n                            placeholder=\"Email\"\r\n                            value={email}\r\n                            onChange={(e) => setemail(e.target.value)}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <input\r\n                            type=\"password\"\r\n                            id=\"password\"\r\n                            name=\"password\"\r\n                            placeholder=\"Password\"\r\n                            value={password}\r\n                            onChange={(e) => setpassword(e.target.value)}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <input\r\n                            type=\"password\"\r\n                            id=\"password2\"\r\n                            name=\"password2\"\r\n                            placeholder=\"Confirm Password\"\r\n                            value={password2} onChange={(e) => setpassword2(e.target.value)}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <input type=\"submit\" value=\"Register\" className=\"buttonNext\" />\r\n                    </div>\r\n                    <br />\r\n                    <Link to=\"/login\" className=\"registerBtn\">Already registered? Login here</Link>\r\n                </form>\r\n            </div>\r\n        );\r\n    };\r\nexport default Register;\r\n"]},"metadata":{},"sourceType":"module"}