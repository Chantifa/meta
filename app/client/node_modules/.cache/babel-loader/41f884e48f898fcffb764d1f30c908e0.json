{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chant\\\\StudioProjects\\\\coronattack\\\\app\\\\client\\\\src\\\\pages\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport { React, useCallback, useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport '../styles/LogRegStyle.css';\nimport illVirus from '../images/illVirus.png';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = props => {\n  _s();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordIsCorrect, setPasswordIsCorrect] = useState(false);\n  const [playerA, setPlayerA] = useState(\"\");\n  const getAllValues = useCallback(async () => {\n    const userData = await axios.get(\"/api/users/login\");\n    setEmail(userData.rows.map(row => row.email));\n    setPassword(userData.rows.map(row => row.password));\n    setPasswordIsCorrect(userData.rows.map(row => row.passwordIsCorrect));\n    setPlayerA(userData.rows.map(row => row.playerA));\n  }, []);\n  const loginuser = useCallback(async e => {\n    e.preventDefault();\n    await axios.post(\"/api/users/login\", {\n      email,\n      password\n    });\n    setEmail(\"\");\n    setPassword(\"\");\n    getAllValues();\n  }, [email, password, getAllValues]);\n  useEffect(() => {\n    getAllValues(); // eslint-disable-next-line\n  }, []);\n  const data = {\n    email,\n    password\n  };\n  console.log(data);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"titleLogin\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: illVirus,\n      alt: \"loginImage\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: loginuser,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          name: \"email\",\n          placeholder: \"Email\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          name: \"password\",\n          placeholder: \"Password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: !passwordIsCorrect && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Login\",\n          className: \"buttonNext\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this), passwordIsCorrect && playerA && /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/Dashboard\",\n          className: \"buttonNext\",\n          children: \"Click here to log into the game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 58\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }, this), !passwordIsCorrect && /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/register\",\n        className: \"registerBtn\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 44\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 13\n  }, this);\n};\n\n_s(Login, \"coLCb18u4bHycN4nco7qVRKY1u8=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/chant/StudioProjects/coronattack/app/client/src/pages/Login.js"],"names":["React","useCallback","useState","useEffect","Link","illVirus","axios","Login","props","email","setEmail","password","setPassword","passwordIsCorrect","setPasswordIsCorrect","playerA","setPlayerA","getAllValues","userData","get","rows","map","row","loginuser","e","preventDefault","post","data","console","log","target","value"],"mappings":"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","sourcesContent":["import { React, useCallback, useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport '../styles/LogRegStyle.css';\r\nimport illVirus from '../images/illVirus.png';\r\nimport axios from 'axios';\r\n\r\nconst Login = (props) => {\r\n\r\n        const [email, setEmail] = useState(\"\");\r\n        const [password, setPassword] = useState(\"\");\r\n        const [passwordIsCorrect, setPasswordIsCorrect] = useState(false);\r\n        const [playerA, setPlayerA] = useState(\"\");\r\n\r\n        const getAllValues = useCallback(async () => {\r\n            const userData = await axios.get(\"/api/users/login\");\r\n            setEmail(userData.rows.map(row => row.email));\r\n            setPassword(userData.rows.map(row => row.password));\r\n            setPasswordIsCorrect(userData.rows.map(row => row.passwordIsCorrect));\r\n            setPlayerA(userData.rows.map(row => row.playerA))\r\n        }, []);\r\n\r\n        const loginuser = useCallback(\r\n            async e => {\r\n                e.preventDefault();\r\n                await axios.post(\"/api/users/login\", {\r\n                    email,\r\n                    password\r\n                });\r\n                setEmail(\"\");\r\n                setPassword(\"\");\r\n                getAllValues();\r\n            },\r\n\r\n            [\r\n                email,\r\n                password,\r\n                getAllValues\r\n            ]\r\n        );\r\n\r\n        useEffect(() => {\r\n            getAllValues();\r\n            // eslint-disable-next-line\r\n        }, []);\r\n\r\n        const data = { email, password };\r\n        console.log(data);\r\n\r\n        return (\r\n            <div>\r\n                <h1 className=\"titleLogin\">Login</h1>\r\n                <img src={illVirus} alt=\"loginImage\" />\r\n                <form onSubmit={loginuser}>\r\n                    <div>\r\n                        <input\r\n                            type=\"email\"\r\n                            id=\"email\"\r\n                            name=\"email\"\r\n                            placeholder=\"Email\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <input\r\n                            type=\"password\"\r\n                            id=\"password\"\r\n                            name=\"password\"\r\n                            placeholder=\"Password\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        {!passwordIsCorrect && <input type=\"submit\" value=\"Login\" className=\"buttonNext\" />}\r\n                    </div>\r\n                    <div>\r\n                        <br />\r\n                        {passwordIsCorrect && playerA && <Link to=\"/Dashboard\" className=\"buttonNext\" >Click here to log into the game</Link>}\r\n                    </div>\r\n                    <br />\r\n\r\n                    {!passwordIsCorrect && <Link to=\"/register\" className=\"registerBtn\">Register</Link>}\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}